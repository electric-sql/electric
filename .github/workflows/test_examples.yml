name: Test Examples

on:
  schedule:
    - cron: '0 9 * * *'  # Runs daily at 9 AM UTC
  workflow_dispatch:  # Allow manual triggering

jobs:
  test:
    name: Test ${{ matrix.example.name }}
    runs-on: ubuntu-latest
    continue-on-error: true
    strategy:
      fail-fast: false
      matrix:
        example:
          - name: remix
            url: https://remix.examples.electric-sql.com
          - name: nextjs
            url: https://nextjs.examples.electric-sql.com
          - name: tanstack
            url: https://tanstack.examples.electric-sql.com

    steps:
      - uses: actions/checkout@v4
      - name: Test Example
        uses: ./.github/actions/test-example
        with:
          example_name: ${{ matrix.example.name }}
          example_url: ${{ matrix.example.url }}
